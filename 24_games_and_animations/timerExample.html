<!DOCTYPE html>
<!-- 
Simple examples of timer use in JavaScript

Sam Scott, McMaster, 2024
-->
<html>
    <head>
        <title>Timer Examples</title>
        <meta charset="UTF-8">
        <script type="text/javascript">
			window.addEventListener("load", function() {
				// variable to hold the timer event ids
				// - this is so it can be stopped later
				let tickerId, boomId;

				// display the "boom" message
				function boom() {
					clearInterval(tickerId);
					document.getElementById("output").innerHTML += "***BOOM***<br>";
				}

				// display a "tick" message
				function tick() {
					document.getElementById("output").innerHTML += "tick<br>";
				}

				// stop both timers
				function stopTicking(event) {
					clearInterval(tickerId);
				}

				// start both timers
				function startTimers() {
					// Create a one-time timer event for 5.25 seconds from now
					boomId = setTimeout(boom, 5250);
					// create a repeating timer event every 0.5 seconds
					tickerId = setInterval(tick, 500);
				}
				
				document.querySelector("input").addEventListener("click", stopTicking);

				startTimers();
			});
        </script>
    </head>
    <body>
        <h1>Timing Examples</h1>
        <input type="button" value="quiet">
        <p id="output"></p>
    </body>
</html>
